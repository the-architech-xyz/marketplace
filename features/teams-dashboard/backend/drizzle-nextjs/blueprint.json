{
  "id": "teams-dashboard-backend-drizzle-nextjs",
  "name": "Teams Dashboard Backend (Drizzle + Next.js)",
  "description": "Backend implementation of teams-dashboard using Drizzle ORM and Next.js API routes",
  "version": "1.0.0",
  "actions": [
    {
      "type": "ENHANCE_FILE",
      "path": "src/lib/db/schema.ts",
      "modifier": "ts-module-enhancer",
      "params": {
        "importsToAdd": [
          { "name": "pgTable", "from": "drizzle-orm/pg-core", "type": "import" },
          { "name": "text", "from": "drizzle-orm/pg-core", "type": "import" },
          { "name": "timestamp", "from": "drizzle-orm/pg-core", "type": "import" },
          { "name": "uuid", "from": "drizzle-orm/pg-core", "type": "import" },
          { "name": "boolean", "from": "drizzle-orm/pg-core", "type": "import" }
        ],
        "statementsToAppend": [
          {
            "type": "raw",
            "content": "// Teams Dashboard Schema\nexport const teams = pgTable('teams', {\n  id: uuid('id').primaryKey().defaultRandom(),\n  name: text('name').notNull(),\n  description: text('description'),\n  slug: text('slug').notNull().unique(),\n  ownerId: text('owner_id').notNull(),\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n  updatedAt: timestamp('updated_at').defaultNow().notNull(),\n  isActive: boolean('is_active').default(true).notNull(),\n});\n\nexport const teamMembers = pgTable('team_members', {\n  id: uuid('id').primaryKey().defaultRandom(),\n  teamId: uuid('team_id').notNull().references(() => teams.id, { onDelete: 'cascade' }),\n  userId: text('user_id').notNull(),\n  role: text('role').notNull().default('member'),\n  joinedAt: timestamp('joined_at').defaultNow().notNull(),\n  isActive: boolean('is_active').default(true).notNull(),\n});\n\nexport type Team = typeof teams.$inferSelect;\nexport type NewTeam = typeof teams.$inferInsert;\nexport type TeamMember = typeof teamMembers.$inferSelect;\nexport type NewTeamMember = typeof teamMembers.$inferInsert;\n\nexport type TeamRole = 'owner' | 'admin' | 'member';\nexport type InvitationStatus = 'pending' | 'accepted' | 'expired' | 'cancelled';\n\nexport interface CreateTeamData {\n  name: string;\n  description?: string;\n  slug: string;\n}\n\nexport interface UpdateTeamData {\n  name?: string;\n  description?: string;\n  slug?: string;\n}\n\nexport interface TeamFilters {\n  ownerId?: string;\n  isActive?: boolean;\n  search?: string;\n}"
          }
        ]
      }
    },
    {
      "type": "CREATE_FILE",
      "path": "src/app/api/teams/route.ts",
      "template": "templates/api-teams-route.ts.tpl"
    },
    {
      "type": "CREATE_FILE",
      "path": "src/app/api/teams/[id]/route.ts",
      "template": "templates/api-team-route.ts.tpl"
    },
    {
      "type": "CREATE_FILE",
      "path": "src/hooks/teams/use-teams.ts",
      "template": "templates/use-teams.ts.tpl"
    },
    {
      "type": "CREATE_FILE",
      "path": "src/lib/api/teams.ts",
      "template": "templates/teams-api.ts.tpl"
    },
    {
      "type": "CREATE_FILE",
      "path": "src/types/teams.ts",
      "template": "templates/teams-types.ts.tpl"
    }
  ]
}
