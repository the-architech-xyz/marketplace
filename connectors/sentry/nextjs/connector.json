{
  "id": "connectors/sentry/nextjs",
  "name": "Sentry Next.js Connector",
  "description": "Next.js-specific Sentry integration with @sentry/nextjs",
  "category": "connectors",
  "version": "1.0.0",
  "blueprint": "blueprint.ts",
  "dependencies": ["technologies/observability/sentry-core"],
  "provides": [
    "monitoring-nextjs-core",
    "{{#if features.performance}}monitoring-nextjs-performance{{/if}}",
    "{{#if features.alerts}}monitoring-nextjs-alerts{{/if}}",
    "{{#if features.enterprise}}monitoring-nextjs-enterprise{{/if}}"
  ],
  "limitations": "Requires Sentry DSN and Next.js framework",
  "parameters": {
    "dsn": {
      "type": "string",
      "default": "",
      "description": "Sentry DSN",
      "required": true
    },
    "environment": {
      "type": "string",
      "default": "development",
      "description": "Environment name",
      "required": false
    },
    "features": {
      "core": {
        "description": "Essential Next.js Sentry integration",
        "default": true
      },
      "performance": {
        "description": "Next.js performance monitoring",
        "default": false
      },
      "alerts": {
        "description": "Next.js alerts and dashboard",
        "default": false
      },
      "enterprise": {
        "description": "Next.js enterprise features",
        "default": false
      }
    },
    "release": {
      "type": "string",
      "default": "",
      "description": "Release version",
      "required": false
    }
  },
  "internal_structure": {
    "core": {
      "provides": ["monitoring-nextjs-core"],
      "templates": [
        "sentry.client.config.ts",
        "sentry.server.config.ts",
        "sentry.edge.config.ts",
        "next.config.ts",
        "test-sentry-api.ts",
        "error-page.tsx"
      ]
    },
    "performance": {
      "prerequisites": ["monitoring-nextjs-core"],
      "provides": ["monitoring-nextjs-performance"],
      "templates": [
        "nextjs-performance.ts",
        "nextjs-web-vitals.ts",
        "performance-middleware.ts"
      ]
    },
    "alerts": {
      "prerequisites": ["monitoring-nextjs-core"],
      "provides": ["monitoring-nextjs-alerts"],
      "templates": [
        "nextjs-alerts.ts",
        "sentry-dashboard.tsx"
      ]
    },
    "enterprise": {
      "prerequisites": ["monitoring-nextjs-core", "monitoring-nextjs-performance"],
      "provides": ["monitoring-nextjs-enterprise"],
      "templates": [
        "nextjs-enterprise.ts",
        "nextjs-custom-metrics.ts"
      ]
    }
  },
  "constraints": {
    "framework": "nextjs"
  }
}
